<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    class Mobile {
        constructor(name, pin, trangThai) {
            this.name = name;
            this.pin = pin ;
            this.trangThai = trangThai;
            this.tinNhan = "";
            this.hopThuDen = [];
            this.hopThuDi = [];
        }
        batTat() {

            if (this.trangThai == "bat") {
                console.log("dien thoai dang bat");
                this.trangThai = "tat";
            } else {
                console.log("dien thoai dang tat");
                this.trangThai = "bat";
            }
        }
        xacDienThoai(){
            this.pin = 100;
            // console.log(this.name + " sau khi xac pin " + this.pin);
        }
        soanTinNhan(text){
            if(this.trangThai == "tat" || this.pin <= 0) {
                console.log(this.name +" dat tat " );
                return;
            }
            console.log(this.name +" da soan tin nhan " + text );
            this.tinNhan = text;
            this.pin--;
            if(this.pin == 0) this.batTat();
            // console.log("pin : " + this.pin);
        }
        nhanTinNhan(tinNhan){
            if(this.trangThai == "tat" || this.pin <= 0) {
                console.log(this.name +" dat tat " );
                return;
            }
            console.log(this.name + "da nhan 1 tin nhan la " + this.tinNhan);
            this.hopThuDen.push(tinNhan);
            this.pin--;
            if(this.pin == 0) this.batTat();
            // console.log("pin : " + this.pin);
             console.log(this.hopThuDen);
        }
        guiTinNhan(dienThoaiKhac) {
            if(this.trangThai == "tat" || this.pin <= 0) {
                console.log(this.name +" dat tat " );
                return;
            }
            console.log(this.name + "da gui mot tin nhan cho " + dienThoaiKhac.name );
            // dienThoaiKhac.xemTinNhanDen();
            this.hopThuDi.push(this.tinNhan);
            dienThoaiKhac.nhanTinNhan(this.tinNhan);
            this.tinNhan = "";
            this.pin--;
            if(this.pin == 0) this.batTat();
            console.log("pin : " + this.pin);
        }
        xemTinNhanDen(){
            if(this.trangThai == "tat" || this.pin <= 0) {
                console.log(this.name +" dat tat " );
                return;
            }
            console.log(this.name + " cac tin nhan da nhan la : " + this.hopThuDen);
            for (let i = 0; i < this.hopThuDen.length; i++){
                console.log(i + " : " + this.hopThuDen[i]);
            }
            this.pin--;
            if(this.pin == 0) this.batTat();
            console.log("pin : " + this.pin);
        }
        xemTinNhanDi(){
            if(this.trangThai == "tat" || this.pin <= 0) {
                console.log(this.name +" dat tat " );
                return;
            }
            console.log(this.name + " cac tin nhan da gui la : " + this.hopThuDi);
            for (let i = 0; i < this.hopThuDi.length; i++){
                console.log(i + " : " + this.hopThuDi[i]);
            }
            this.pin--;
            if(this.pin == 0) this.batTat();
            console.log("pin : " + this.pin);
        }
    }
    let iphone = new Mobile("iphone", "50", "bat");
    let nokia = new Mobile("nokia", "70", "bat");
    console.log(iphone);
    console.log(nokia);
    iphone.xacDienThoai();
    iphone.soanTinNhan("chao ban nokia");
    iphone.soanTinNhan("chao chao");
    iphone.guiTinNhan(nokia);
    nokia.xemTinNhanDen();
    // nokia.nhanTinNhan();
    // nokia.xemTinNhanDen();
    // nokia.soanTinNhan("chao ban iphone");
    // nokia.soanTinNhan("ban dang o dau");
    // nokia.xemTinNhanDi();
    // iphone.xemTinNhanDen();

</script>

</body>
</html>